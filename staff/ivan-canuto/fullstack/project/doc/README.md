# StudySnap

## Intro

This application is a social network that allows users to share text content on various topics. Additionally, it features a chatbot function where users can interact with an AI to ask questions related to those topics. The text shared on the platform consists of summaries generated by the AI based on the previous user conversation. If a user finds that the generated text needs adjustments, they can easily edit and customize it to their liking.

Among its other functionalities, users can comment on posts by other users, like and save posts, provide suggestions for improvements or report errors in the posted content. Users can also search for posts based on the its title content. Furthermore, the application allows users to conveniently access and view the last 15 posts they visited.

### Fuctional description

### Use cases
- Start conversation / interact with chatbot (ask questions, request summarys)
- Generate / publish post (with summary)
- Acess to all prior conversations
- Delete conversation
- Delete all conversations
- Search post
- Click on post to open post modal with all the post information
- Edit own post's title or conetnt
- Delete own posts
- Toggle like post
- Toggle fav/save post
- View the comment section
- Create post comment
- Delete post comment
- View suggestion section
- Create post suggestion
- Modify post suggestion's title or content (by the suggestion owner)
- Delete post suggestion (by the suggestion owner)
- Set suggestion as checked by the post owner, and remove it from the suggestion modal
- Acess to the different views of the posts (all posts in home page, own posts, saved posts, last fifteen seen posts)
- View user made suggestions and own posts suggestions
- Update user avatar
- Update user password
- Create a post from scratch

### Data model

User
- id (oid)
- name (string)
- email (string)
- password (string)
- avatar (string)
- favs (oid array, refers to Post id)
- seenLately (oid array, refers to Post id)

Post
- id (string)
- author (oid, refers to User id)
- title (string)
- text (string)
- date (object)
- likes (oid array, refers to User id)
- visible (boolean)
- comments (array with comments)

Comment
- id (oid)
- author (string)
- auhotrId (oid)
- text (string)

Suggestion
- id (oid)
- author (oid, refers to the User id)
- post (oid, refers to the Post id)
- postAuthor (oid, refers to the id of the author of the post)
- title (string)
- content (string)
- checked (boolean)
- hidden (boolean)

Conversation
- id (oid)
- author (oid, refers to User id)
- title (string)
- messages (array of messages from a conversation)

Message
- id (oid)
- role (string)
- content (string)


### Test Coverage

http://127.0.0.1:5500/staff/ivan-canuto/fullstack/project/api/coverage/lcov-report/index.html

## Planning

### Epics & Stories

#### Access control

- Me as a user, I want to register my credentials and acces with them to the App

##### Tasks

- DONE build html
- DONE build basic css
- DONE Implement register functionality
- DONE Implement login functionality
- DONE Implement home welcome functionality

#### Start conversation, create posts, and refresh posts list

- Me as user, I want to talk with the chatbot to ask some questions
- Me as user, I want ask the chatbot to generate a summary about some topics
- Me as user, I want to create a post with the summary generated, add it to the feed, and refresh the posts list in home
- Me as user, if I dont' want to create a poost with the summary generated, be able to tell the AI to do another one, or contiue the conversation

##### Tasks

- DONE Implement a chat bot window to interact with it
- DONE Implement an 'chat' button to talk to the chatbot
- DONE Implement a 'generate summary' button to make a summary
- DONE Implement a summary box with three inferior buttons, one to create a post, one to generate another summary, and one to continue the coversation
- DONE Implement a logic to generate a post with an only respost fron the chatbot
- DONE Implement logic to persist the info (post with summary) in database 
- DONE Implement retrievePosts logic to get all posts form database
- DONE Implement a panel for listing posts in home

#### Acess to prior conversations

- Me as user, I want a sidebar menu where i can acces all the prior conversations I had with the chatbot
- Me as user, I want to be able to clik in one of the conversations in menu, acces to it, an continue with it if I want

##### Tasks

- DONE Implement a logic where I can see all the prior conversations in the sidebar menu
- DONE Implement the logic where i can click in one of the menu options an load all the conversation in the chatbot page
- DONE Implement the logic to be able to continue with the conversations

#### Delete a conversation

- Me as user, I want to be able to delete a conversation existing in the sidebar menu
- Me as user, I want to be able to be able to delete all conversations if I want with an only button

##### Tasks

- DONE Implement a logic where i can delete a conversation from the sidebar menu, with doble check
- DONE Implement an option in the sidebar menu where to delete all conversations, with doble check

#### Create a post from scratch, and refresh posts list

- Me as user, I want to be able to create a post with a summary made by me

##### Tasks 

- DONE Create an AddPost modal where i can enter the title and the sumamry content of my post
- DONE Implement an option in the sidebar menu where i can click it and the AddPost modal pops up to me
- DONE Implement the logic to create a post this way

#### Search post

- Me as user, I want to search a post related to a topic

##### Tasks

- DONE Implement a search button to open a small search form under the header
- DONE Implement the logic where the user enters an input in the form, and the posts with the titles related to the input topic are retrieved, sorted from most liked to the least

##### Click on post to open post modal with all the post information

- Me as user, I want to click in a post from the feed and open a post modal where i can interact with the post

##### Tasks

- DONE Implement the logic to open a post modal with all its post information, where the user can see the whole post content and interact with the diferent functionalities
- DONE Implement a retrievePost logic to retrieve all the information of the post from database

#### Edit a post and refresh list

- Me as user, I want to have the edit option (as a button) in every post I created, open the Edit dialog with it, and save the changes in the post
- Me as user, I want to see the list of updated posts with the changes applied in any of my posts

##### Tasks

- DONE Implement an 'edit' button to edit an existing post in all the posts that belong to the use connected (in the session)
- DONE Implement a 'delete comment' comment button to remove inappropiate comments in the posts that belong to the user connected()
- DONE Implement the modal window to edit the post
- DONE Implement logic to save in database the changes made to the post and its comment section
- DONE Add a call to refresh the posts list after saving the changes in the edited post

#### Delete a post and refresh list

- Me as a user, I want have a delete option (as a button) in any post I create, open a Delete dialog with it, and preceed to delete the post if accepted (or cancel it otherwise)
- Me as user, I want to see the list of posts updated with the changes applied in any of my posts

##### Tasks

- DONE Implement a 'delete' button in any of the posts belonging to user
- DONE Implement deletePost logic to remove post from database
- DONE Implement a modal window to ask the user if he/she really want to delete the post (two buttons: delete, cancel)
- DONE Add a call to refresh the posts list after deleting one post

#### Toggle a like in post and toggle save post

- Me as user, I want to like a post
- Me as user, I want to save a post as favorite

##### Tasks

- DONE Implement a like and a save button
- DONE Implement toggleLikePos logic to be able to like/unlike the post
- DONE Implement toggleLikePos logic to be able to save/unsave the post as favorite
- DONE Add call to refresh the posts list after liking or saving the post

#### View the comment section

- Me as user I want to be able to see the comments in a post

##### Tasks

- DONE Implement a comment button, beside the like and save buttons, to access to the comment section
- DONE Implement a comment section where the user can see al the comments made to the post

#### Create a comment or delete a comment, and refresh comment list

- Me as user, I want to create a comment in a post.
- Me as user, I want to delete a comment I made previouly in a post
- Add call to refresh comment section

#### View suggestion modal

- Me as user, I want to be able to click a button and view all the made suggestions existing in a post

##### Tasks

- DONE Implement a 'suuggesitons' button where the user can acces to all the suggestions in post previously made
- DONE Imlement a suggestion section where the users can see the suggestions already made to the post
- DONE Implement a retrieveSuggestions logic to get the suggestions from database

#### Create a suggestion and refresh list

- Me as a user, I want to have the option to generate post suggestions (as a button) in every post in the feed, open a dialog with it, and proceed to make the suggestion

##### Tasks

- DONE Implement an 'add suggestion' button to each post that does not belong to the user connected (in session)
- DONE Implement modal window to write the suggestion (form with two text inputs: title (reason of the suggestion) and content (description of the suggestion))
- DONE Implement generateSuggestion logic to save suggestion in database
- DONE Add call to refresh posts list with the new suggestions

#### Delete suggestion and refresh list

- Me as user, I want to delete a suggestion made by me.

##### Tasks

- DONE Implement 'delete button' in every suggestion made by me
- DONE Implement deleteSuggestion logic to remove suggestion from database
- DONE Add call to refresh the posts list wiht the updated changes

#### Watch made suggestions, remove the checked ones in own posts and refresh list

- Me as user, I want to see the suggestions made in all posts to see if the contribution I want to make is already done.
- Me as user, I want to remove the suggestions made in my posts once checked.

##### Tasks

- DONE Implement 'suggestions' button in each post that does not belong to the connected user (in session) to open a window with all the suggestions made.
- DONE Implement logic to retrieve all the suggestions made in one post
- DONE Implement logic to remove the suggestions cheched by user in his/her posts
- DONE Add call to refresh the posts with the made changes

#### Set suggestion as checked by the post owner, and remove it from the suggestion modal

- Me as user, I want to be able to set as checked the suggestions made in my posts
- Me as user, I want to hide checked suggestions if I want, the suggestion owner will be able to still see them

##### Tasks

- DONE Implement a chek/uncheck button in all the suggestions in user posts
- DONE Implement a check/uncheck suggestion functionality
- DONE Implement a hideSuggestion functionality to hide them from the suggestion section

#### Access to all the different post views

- Me as user, I want to be able to view all the existing post in the home page
- Me as user, I want to be able to view all the post made by me
- Me as user, I want to be able to view all the posts saved by me as favorites
- Me as user, I want to be able to view the las fifteen posts i visited
- Me as user, I want to acces to all these views from the sidebar menu

##### Tasks

- DONE Implement a retrievePosts logic to get all the posts from database
- DONE Implement a retrieveUserPosts logic to get all the posts made by the user from database
- DONE Implement a retrieveSavedPosts logic to get all the user's saved post from database
- DONE Implement a retrieveSeenPosts logic to get the last fifteen seen posts by the user from database
- DONE Implement a sidebar menu to acces all the different post views

#### Acces to the user made suggestions and own posts suggestions

- Me as user, I want to see the suggestions made by me
- Me as user, I want to see the suggestions that have been made to my posts
- Me as user, I want to acces to them through the sidebar menu

##### Tasks

- DONE Implemet suggestion page where i can view either the suggestions made by me or the suggestions that habe been made to my posts
- DONE Implement retrieveOwnSuggestions logic to retrieve the suggestions made by the current user from database
- DONE Implement retrieveOwnPostsSuggestions logic to retrieve the suggestions made by the current user from database

#### Update user avatar and update user password

- Me as user, I want to be able to update my avatar
- Me as user, I want to te able to update my password

##### Tasks

- DONE Implement a section in the profile modal where the user can access to the update avatar form and update password form
- DONE Implement the updateUserAvatar logic to change the user avatar
- DONE Implement the updateUserPassword logic to change the user password

#### Create a post from scratch, and refresh posts list

- Me as user, I want to be able to create a post with a summary made by me

##### Tasks 

- DONE Create an AddPost modal where i can enter the title and the sumamry content of my post
- DONE Implement an option in the sidebar menu where i can click it and the AddPost modal pops up to me
- DONE Implement the logic to create a post this way